(window.webpackJsonp=window.webpackJsonp||[]).push([[7,63,107,124,133,182],{1017:function(t,e,n){"use strict";n(931)},1018:function(t,e,n){var o=n(40)((function(i){return i[1]}));o.push([t.i,".drag-button.reorder{\n  cursor:-webkit-grab;\n  cursor:grab\n}\n.teleport-loading-state{\n  color:transparent;\n  border-radius:4px;\n  background:#f0efef;\n  line-height:12px\n}\n.teleport-loading-state>*,.teleport-loading-state>*>*{\n  color:transparent!important\n}",""]),o.locals={},t.exports=o},723:function(t,e,n){"use strict";n.r(e);n(31);var o=n(292),r=n(7),l={props:{iconComponent:{type:Object,default:function(){return{}}},tooltip:{type:Object,default:function(){return{}}},listWidth:{type:String,default:"w-full"},size:{type:String,default:"md",validator:function(t){return["xs","sm","md","lg"].includes(t)}},type:{type:String,default:"default",validator:function(t){return["default","toolbar","dark","white","custom"].includes(t)}},customClasses:{type:String,default:""},title:{type:String,default:"Dropdown"},ariaLabel:{type:String,default:"Dropdown"},selectedItem:{type:String,default:""},openDirection:{type:String,default:"bottom"},shouldCloseOnClickOutside:{type:Boolean,default:!0},shouldShowToggleButton:{type:Boolean,default:!0},dropDownContainerClasses:{type:String,default:""}},data:function(){return{open:!1,optionsIDPrefix:this.getUUID(),labelId:this.getUUID(),buttonId:this.getUUID()}},computed:{titleIfItemSelected:function(){var t=this.selectedItem;return this.selectedItem?"(with selected value) ".concat(t):"(no selected value)"},tooltipOptions:function(){var t={};return this.hasTooltip&&((t=this.tooltip).trigger="hover"),t},hasTooltip:function(){return!this.$_.isEmpty(this.tooltip)},tooltipTitle:function(){return this.$_.get(this.tooltip,"title","")},isIconComponentEmpty:function(){return this.$_.isEmpty(this.iconComponent)},classes:function(){var t="";return"xs"===this.size?t+="py-1 pl-2 pr-1 text-xs h-6 ":"sm"===this.size?t+="py-2 pl-2 pr-1 text-xs h-8 ":"md"===this.size?t+="py-2 pl-2 pr-4 text-sm h-10 ":"lg"===this.size&&(t+="py-3 pl-2 pr-4 text-sm h-12 "),"default"===this.type&&(t+=" text-dark-3 border border-dark-6 hover:bg-light-5%"),"white"===this.type&&(t+=" bg-light-3 text-dark-3 border border-dark-6 hover:bg-light-5%"),"toolbar"===this.type&&(t+=" text-light-3 border border-light-10% hover:bg-light-5%"),"dark"===this.type&&(t+="bg-dark-50% text-light-3 hover:bg-dark-60% active:bg-dark-50%"),"custom"===this.type&&(t+=this.customClasses),t},iconSize:function(){return"xs"===this.size||"sm"===this.size?11:("md"===this.size||this.size,12)}},created:function(){this.ariaLabel||r.a.warn("A11yWarning: Switchbox should have an aria-label!")},methods:{getUUID:function(){return Object(o.b)()},toggleOpen:function(){this.open=!this.open,this.open?this.$emit("open"):this.$emit("close")},close:function(){this.open=!1},onDropDownOutsideClick:function(){this.open=!1},onCloseDropdown:function(){this.close()}}},c=n(10),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("div",{staticClass:"label sr-only",attrs:{id:t.labelId}},[t._v("\n    "+t._s(t.ariaLabel+" "+t.titleIfItemSelected)+"\n  ")]),t._v(" "),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onDropDownOutsideClick,expression:"onDropDownOutsideClick"}],staticClass:"dropdown flex relative rounded",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close.apply(null,arguments)}}},[t.shouldShowToggleButton?n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltipOptions,expression:"tooltipOptions"}],class:[t.classes,"w-full flex rounded font-semibold cursor-pointer items-center"],attrs:{"aria-haspopup":"listbox","aria-labelledby":t.labelId+" "+t.buttonId,"aria-expanded":t.open},on:{mousedown:function(t){t.preventDefault()},click:t.toggleOpen}},[t.isIconComponentEmpty?t._e():n(t.iconComponent,{tag:"component",staticClass:"mr-2"}),t._v("\n      "+t._s(t.title)+"\n\n      "),n("div",{staticClass:"w-4 h-4 items-center justify-center flex ml-auto"},[n("FA",{attrs:{icon:"fas fa-caret-down",size:t.iconSize,"aria-hidden":"true"}})],1)],1):t._e(),t._v(" "),n("div",{class:["list absolute bg-light-3 shadow-soft-high transform rounded transition-transform mt-1 z-20",t.open?"scale-y-100":"scale-y-0 invisible",t.listWidth,"top"===t.openDirection?"bottom-full origin-bottom":"top-full origin-top",t.dropDownContainerClasses],attrs:{"aria-labelledby":t.labelId,tabindex:-1,role:"listbox"}},[t._t("default",null,{closeDropdown:t.onCloseDropdown})],2)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FA:n(71).default,Button:n(37).default})},727:function(t,e,n){"use strict";n.r(e);var o=n(5),r=(n(112),{props:{width:{type:Number,default:6},size:{type:Number,default:12},type:{type:String,default:""},radius:{type:String,default:""},withBgBox:{type:Boolean,default:!0},shouldPaintBackground:{type:Boolean,default:!0}},data:function(){return{types:{}}},computed:{questionType:function(){return this.$_.isEmpty(this.type)?this.$constants.QuestionTypes.MCQ:this.type},containerClasses:function(){var t=[];return this.withBgBox?(t.push("w-".concat(this.width)),t.push("h-".concat(this.width)),this.shouldPaintBackground&&t.push("bg-brand-".concat(this.types[this.type].brandColor)),t.push("text-light"),this.$_.isEmpty(this.radius)?t.push("rounded"):t.push("rounded-".concat(this.radius))):t.push("text-brand-".concat(this.types[this.type].brandColor)),t}},created:function(){var t;this.types=(t={},Object(o.a)(t,this.$constants.QuestionTypes.MCQ,{icon:"far fa-check-square",brandColor:"b"}),Object(o.a)(t,this.$constants.QuestionTypes.MSQ,{icon:"far fa-check-square",brandColor:"b"}),Object(o.a)(t,this.$constants.QuestionTypes.POLL,{icon:"far fa-poll",brandColor:"a"}),Object(o.a)(t,this.$constants.QuestionTypes.BLANK,{icon:"far fa-rectangle-wide",brandColor:"c"}),Object(o.a)(t,this.$constants.QuestionTypes.OPEN,{icon:"far fa-align-left",brandColor:"e"}),Object(o.a)(t,this.$constants.QuestionTypes.DRAW,{icon:"far fa-signature",brandColor:"d"}),Object(o.a)(t,"SLIDE",{icon:"far fa-presentation",brandColor:"f"}),t)}}),l=n(10),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:["question-type-icon flex items-center justify-center",t.containerClasses]},[n("FA",{attrs:{icon:t.types[t.questionType].icon,size:t.size}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FA:n(71).default})},748:function(t,e,n){var content=n(783);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("72205fcc",content,!1,{sourceMap:!1})},757:function(t,e,n){"use strict";n.r(e);n(26),n(25),n(24),n(17),n(32),n(21),n(33);var o=n(5),r=(n(31),n(112),n(45),n(38),n(100),n(0)),l=n.n(r),c=n(1);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=["info","warn","danger"],m={validator:function(t){return!l.a.isEmpty(t.title)},model:function(t){var title=t.title,e=t.subTitle,n=void 0===e?"":e,o=t.icon,r=void 0===o?"":o,c=t.iconColor,d=void 0===c?"":c,f=t.iconBGColor,h=void 0===f?"":f,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",y=r,v=d,T=h;return l.a.isEmpty(y)&&(y={info:"far fa-info-circle",warn:"far fa-exclamation-triangle",danger:"far fa-trash-alt"}[m]),l.a.isEmpty(v)&&(v={info:"text-lilac",warn:"text-yellow",danger:"text-red"}[m]),l.a.isEmpty(T)&&(T={info:"bg-lilac-faded",warn:"bg-yellow-faded",danger:"bg-red-faded"}[m]),{title:title,subTitle:n,icon:y,iconColor:v,iconBGColor:T}}},y={validator:function(t){return!l.a.isEmpty(t.title)||!l.a.isEmpty(t.licon)||!l.a.isEmpty(t.ticon)},model:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f({title:Object(c.b)("Cancel"),type:"other",size:"xs"},t)}},v={validator:function(t){return!l.a.isEmpty(t.title)||!l.a.isEmpty(t.licon)||!l.a.isEmpty(t.ticon)},model:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=t.type||"";return l.a.isEmpty(n)&&(n={info:"primary",warn:"super-secondary",danger:"danger"}[e]),f({type:n,size:"xs"},t)}},T={name:"PopoverConfirmer",props:{type:{type:String,default:"info",validator:function(t){return h.includes(t)}},content:{type:Object,required:!0,validator:m.validator},button1:{type:Object,default:y.model},button2:{type:Object,required:!0,validator:v.validator},buttonNumsThatAutoClosePopover:{type:Array,default:function(){return[1,2]}},placement:{type:String,default:"auto",validator:function(t){return["auto","auto-start","auto-end","top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].includes(t)}},trigger:{type:String,default:"click",validator:function(t){return["hover","click","focus","manual"].includes(t)}},delay:{type:[Number,Object],default:function(){return{show:100,hide:100}}},offset:{type:Number,default:4},open:{type:Boolean,default:!1},autoHide:{type:Boolean,default:!0},handleResize:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{popoverClasses:function(){return["p-type-".concat(this.type)]},initializedContent:function(){return m.model(this.content,this.type)},initializedButton1:function(){return y.model(this.button1,this.type)},initializedButton2:function(){return v.model(this.button2,this.type)},iconContainerClasses:function(){return[this.initializedContent.iconColor,this.initializedContent.iconBGColor]},button1Props:function(){return this.initializedButton1},button2Props:function(){return this.initializedButton2},canClosePopoverFromBtn1:function(){return this.buttonNumsThatAutoClosePopover.includes(1)},canClosePopoverFromBtn2:function(){return this.buttonNumsThatAutoClosePopover.includes(2)},topBorderColorClass:function(){var t=this.initializedContent.iconColor;return t.includes("text-")?t.replace("text-","border-"):"border-dark-4"}},methods:{onButton1Click:function(){this.$emit("button1Clicked")},onButton2Click:function(){this.$emit("button2Clicked")}}},C=(n(782),n(10)),component=Object(C.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-popover",{class:t.popoverClasses,attrs:{placement:t.placement,trigger:t.trigger,delay:t.delay,open:t.open,autoHide:t.autoHide,handleResize:t.handleResize,offset:t.offset,disabled:t.disabled,popoverWrapperClass:"confirmer-wrapper wrapper",popoverInnerClass:["confirmer-inner max-w-xs bg-light-3 border-t-4 border-dark-4 rounded shadow-lg",t.topBorderColorClass],popoverArrowClass:"confirmer-arrow tooltip-arrow popover-arrow"},scopedSlots:t._u([{key:"popover",fn:function(){return[n("div",{staticClass:"body flex flex-row p-4 items-center"},[n("div",{staticClass:"icon-container flex-shrink-0 w-10 h-10 rounded-full flex justify-center items-center flex-",class:t.iconContainerClasses},[n("FA",{attrs:{icon:t.initializedContent.icon,size:16}})],1),t._v(" "),n("div",{staticClass:"text-content flex-auto ml-3"},[n("h4",{staticClass:"text-dark-2 text-sm"},[t._v("\n          "+t._s(t.initializedContent.title)+"\n        ")]),t._v(" "),n("h6",{staticClass:"text-dark-4 text-xs"},[t._v("\n          "+t._s(t.initializedContent.subTitle)+"\n        ")])])]),t._v(" "),n("div",{staticClass:"btns-container p-2 bg-light-2 flex flex-row justify-end items-center rounded-b"},[n("Button",t._b({directives:[{name:"close-popover",rawName:"v-close-popover",value:t.canClosePopoverFromBtn1,expression:"canClosePopoverFromBtn1"}],on:{click:t.onButton1Click}},"Button",t.button1Props,!1)),t._v(" "),n("Button",t._b({directives:[{name:"close-popover",rawName:"v-close-popover",value:t.canClosePopoverFromBtn2,expression:"canClosePopoverFromBtn2"}],staticClass:"ml-2",on:{click:t.onButton2Click}},"Button",t.button2Props,!1))],1)]},proxy:!0}])},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FA:n(71).default,Button:n(37).default})},774:function(t,e,n){"use strict";n.r(e);n(51);var o={data:function(){return{options:this.$_.map([5,10,20,30,45,60,120,180,300,600,900],(function(t){return 1e3*t}))}},methods:{getTimeTitle:function(time){var t=time/1e3,e=t/60;return e>=1?"".concat(e,1===e?" minute":" minutes"):"".concat(t," seconds")},onTimeSelected:function(time){this.$emit("onTimeSelected",time),this.$emit("closeDropdown")}}},r=n(10),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"py-1 overflow-hidden"},t._l(t.options,(function(time,e){return n("button",{key:e,staticClass:"cursor-pointer active:bg-dark-10% py-2 w-full text-sm flex items-center overflow-hidden justify-center text-dark-3 max-h-80 font-semibold hover:bg-dark-5%",on:{click:function(e){return t.onTimeSelected(time)}}},[t._v("\n    "+t._s(t.getTimeTitle(time))+"\n  ")])})),0)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:n(37).default})},782:function(t,e,n){"use strict";n(748)},783:function(t,e,n){var o=n(40)((function(i){return i[1]}));o.push([t.i,"",""]),o.locals={},t.exports=o},789:function(t,e,n){"use strict";n.r(e);var o={props:{type:{type:String,default:"random"}},computed:{getImageSrc:function(){return"https://cf.quizizz.com/img/empty-state/quiz-image-".concat(this.emptyStateType,".png")},emptyStateType:function(){var t=["brand-a","brand-b","brand-c","brand-d","brand-e","deleted"];return"random"===this.type?t[Math.floor(Math.random()*t.length)]:this.type}}},r=n(10),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-full flex items-center justify-center flex-shrink-0"},[n("img",{staticClass:"src",attrs:{src:t.getImageSrc,alt:""}})])}),[],!1,null,null,null);e.default=component.exports},799:function(t,e,n){"use strict";n.r(e);n(36);var o={props:{type:{type:String,default:"image"},size:{type:String,default:"sm"},emptyStateType:{type:String,default:""},src:{type:String,default:""},rounded:{type:String,default:"default"},isLoading:{type:Boolean,default:!1},shouldViewVideoOnClick:{type:Boolean,default:!0},media:{type:Object,default:function(){}}},computed:{isImageType:function(){return"image"===this.type},isAudioType:function(){return"audio"===this.type},isVideoType:function(){return"video"===this.type},containerClasses:function(){var t="";switch(this.size){case"md":t+="w-26 h-26 ";break;case"sm":t+="w-18 h-18 ";break;default:t+=""}return"semi"===this.rounded?t+="rounded-lg overflow-hidden":t+="rounded overflow-hidden",t},audioComponentSize:function(){switch(this.size){case"md":default:return 72;case"sm":return 48}},startTime:function(){var t=this.$_.get(this.media,"meta.start",null);return null===t&&(t=this.$_.get(this.media,"meta.startTime",0)),t},endTime:function(){var t=this.$_.get(this.media,"meta.end",null);return null===t&&(t=this.$_.get(this.media,"meta.endTime",0)),t},videoId:function(){return this.$_.get(this.media,"meta.videoId","")},videoIconFontSize:function(){return"md"===this.size?40:24},whiteBgSize:function(){return"md"===this.size?"w-4 h-4":"w-3 h-3"}},methods:{previewVideo:function(t){t.stopPropagation();var e="https://www.youtube.com/embed/".concat(this.videoId,"?start=").concat(this.startTime,"&end=").concat(this.endTime,"&autoplay=1");this.$_.isEmpty(this.videoId)&&(e=this.src),window.open(e)}}},r=n(10),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.containerClasses,"bg-light-1 flex items-center justify-center flex-shrink-0"]},[t.isImageType&&!t.isLoading?n("div",{staticClass:"w-full h-full flex items-center"},[t.src?n("img",{attrs:{src:t.src}}):n("QuizImageEmptyState",{attrs:{type:t.emptyStateType}})],1):t._e(),t._v(" "),t.isAudioType&&!t.isLoading?n("div",{staticClass:"w-full h-full flex items-center justify-center bg-dark-2"},[n("MediaAudio",{staticClass:"bg-light-20%",attrs:{size:t.audioComponentSize,src:t.src}})],1):t._e(),t._v(" "),t.isVideoType&&!t.isLoading?n("div",{class:["w-full h-full bg-dark-2 relative",t.shouldViewVideoOnClick?"cursor-pointer":""],on:{click:t.previewVideo}},[n("div",{staticClass:"absolute transform -translate-y-1/2 -translate-x-1/2 top-2/4 left-2/4"},[n("div",{class:["absolute transform -translate-y-1/2 -translate-x-1/2 top-2/4 left-2/4 bg-light",t.whiteBgSize]}),t._v(" "),n("FA",{staticClass:"relative text-red",attrs:{icon:"fab fa-youtube",size:t.videoIconFontSize}})],1),t._v(" "),t.shouldViewVideoOnClick?n("div",{staticClass:"text-light text-sm bottom-px absolute transform -translate-y-1/2 -translate-x-1/2 left-2/4"},[n("i18n",[t._v("view")])],1):t._e()]):t._e()])}),[],!1,null,"740a1ffc",null);e.default=component.exports;installComponents(component,{QuizImageEmptyState:n(789).default,MediaAudio:n(732).default,FA:n(71).default,I18n:n(90).default})},888:function(t,e,n){"use strict";n.r(e);n(26),n(25),n(24),n(32),n(21),n(33);var o=n(6),r=n(5),l=(n(46),n(112),n(31),n(92),n(45),n(196),n(17),n(36),n(91),n(42)),c=n(738),d=n(4),f=n(53),h=n(122),m=n(727),y=n(71);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={props:{questionIndex:{type:Number,default:0},selectedTime:{type:Number,default:d.a.QuestionDefaultTimes[d.a.QuestionTypes.MCQ]},question:{type:Object,default:function(){}},questionTopics:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1},isSuperContent:{type:Boolean,default:!1},isAddingTeleportInProgress:{type:Boolean,default:!1},shouldShowAnswers:{type:Boolean,default:!0},isPreviewMode:{type:Boolean,default:!1},isVerticalList:{type:Boolean,default:!1},forPage:{type:String,validator:function(t){return["teleport","quiz-editor","quiz-page","see-more"].includes(t)},default:"teleport"},currentState:{type:String,default:"edit",validator:function(t){return["edit","reorder"].includes(t)}},showIndexWithType:{type:Boolean,default:!1}},data:function(){return{addButtonType:"other",questionTypes:Object(f.g)(),clickedAddButtonIndex:-1,isDuplicationInProgress:!1,isDeletionInProgress:!1,changeTimeForAllQuestionsBtn:{isVisible:!1,isLoading:!1,isDone:!1}}},computed:T(T(T({},Object(l.c)("contentEditor",["teleportedQuestions"])),Object(l.c)(["deviceProps","isDesktop"])),{},{verticallyAlignOptions:function(){return this.isVerticalList&&!this.isDesktop},questionTopicsToShow:function(){return this.questionTopics.length>2?this.questionTopics.slice(0,2):this.questionTopics},extraTopicsTitle:function(){return"+ ".concat(this.questionTopics.length-this.questionTopicsToShow.length," more")},tooltipOptions:function(){var t={};return this.isCurrentStateReorder||(t.content=this.$i18n("Click to reorder"),t.trigger="hover",t.placement="top"),t},isCurrentStateReorder:function(){return"reorder"===this.currentState},isCurrentPageSeeMore:function(){return"see-more"===this.forPage},timerDropdownIcon:function(){return{render:function(t){return t(y.default,{props:{icon:"fas fa-stopwatch",size:11}})}}},getTimeTitle:function(){var t=this.selectedTime/1e3,e=t/60;return e>=1?"".concat(e,1===e?" minute":" minutes"):"".concat(t," seconds")},isForTeleportPage:function(){return"teleport"===this.forPage},addButtonTitle:function(){return this.$_.includes(this.teleportedQuestions,this.question._id)?this.$i18n("Add again"):this.$i18n("Add question")},isQuizLocked:function(){return this.isSuperContent&&!this.isSuperUser&&!this.isCorporateUser},isSuperUser:function(){return this.$user.isSuper},isCorporateUser:function(){return this.$user.isCorporate},answerOptions:function(){return this.isBlankTypeQuestion?[this.options[0]]:this.options},alternateOptions:function(){return this.options.slice(1)},isMCQTypeQuestion:function(){return this.question.type===this.$constants.QuestionTypes.MCQ},isMSQTypeQuestion:function(){return this.question.type===this.$constants.QuestionTypes.MSQ},isOpenEndedTypeQuestion:function(){return this.question.type===this.$constants.QuestionTypes.OPEN},isDrawQuestion:function(){return this.question.type===this.$constants.QuestionTypes.DRAW},isBlankTypeQuestion:function(){return this.question.type===this.$constants.QuestionTypes.BLANK},isPollTypeQuestion:function(){return!this.$_.get(this.question,"structure.settings.hasCorrectAnswer",!1)&&(this.isMCQTypeQuestion||this.isMSQTypeQuestion)},options:function(){return this.$_.get(this.question,"structure.options",[])},questionMedia:function(){var t=this.$_.get(this.question,"structure.query.media",[]);return this.question.type===this.$constants.QuestionTypes.DRAW?t.find((function(t){return"audio"===t.type})):t[0]},questionImageMedia:function(){return this.$_.get(this.question,"structure.query.media",[]).find((function(t){return"image"===t.type}))},doesQuestionHaveMedia:function(){return!this.$_.isEmpty(this.questionMedia)},doesQuestionHaveAnswerExplanation:function(){var t=this.$_,e=!t.isEmpty(this.answerExplanationText),n=!t.isEmpty(this.answerExplanationMedia);return!t.isEmpty(this.$_.get(this.question,"structure.explain",{}))&&(e||n)},answerExplanationText:function(){var t;return this.getHtmlToRender(null!==(t=this.$_.get(this.question,"structure.explain.text",""))&&void 0!==t?t:"")},answerExplanationMedia:function(){return this.$_.get(this.question,"structure.explain.media",[])},doesAnswerExplanationHaveMedia:function(){return!this.$_.isEmpty(this.answerExplanationMedia)},questionTitle:function(){return this.$_.get(this.question,"structure.query.text","")},lozengeTitle:function(){var t,e,n=this.question.type;return this.isPollTypeQuestion&&(n=this.$constants.QuestionTypes.POLL),this.showIndexWithType||this.isPreviewMode?"".concat(this.questionIndex+1,". ").concat(null===(e=this.questionTypes[n])||void 0===e?void 0:e.title):null===(t=this.questionTypes[n])||void 0===t?void 0:t.title},selectedQuestionType:function(){var t=this.$_.get(this.question,"type");return this.$_.isEmpty(t)&&(t=this.$constants.QuestionTypes.MCQ),this.isPollTypeQuestion&&(t=this.$constants.QuestionTypes.POLL),t},questionTypeIconComponent:function(){var t=this.selectedQuestionType;return{render:function(e){return e(m.default,{props:{radius:"sm",type:t,size:11,width:3,withBgBox:!1}})}}}}),beforeDestroy:function(){this.toggleChangeTimeForAllQuestionsTimer&&clearTimeout(this.toggleChangeTimeForAllQuestionsTimer)},methods:{openTopicTagModal:function(){this.$emit("openTopicTagModal",this.question._id),this.$eventBus.$emit("questionToolbar:openTopicTagModal",this.question._id)},onDragButtonClicked:function(){this.isCurrentStateReorder||this.$emit("changeCurrentState","reorder")},onTimeSelected:function(time){var t=this;if(time!==this.selectedTime){this.$emit("questionTimeUpdated",this.question._id,time,(function(){t.toggleChangeTimeForAllQuestionsBtn()}))}},hasMath:function(text){return text.toLowerCase().includes("<katex")},getHtmlToRender:function(text){return this.hasMath(text)?Object(f.f)(text):text},getParsedQuestionTitle:function(text){return this.getHtmlToRender(text)},getParsedOptionText:function(text){return this.getHtmlToRender(text)},setAddButtonType:function(t){this.addButtonType=t},addQuestion:function(t){if(!this.isLoading&&!this.isAddingTeleportInProgress)if(this.isQuizLocked)this.$eventBus.$emit("superUpsell:show",{type:this.$constants.SuperUpsellTypes.PREMIUM_CONTENT,options:{feat:"premium-content:teleport",variant:"teleport"}});else{var e=this.$_.cloneDeep(this.question);Object(c.d)(e),this.$emit("addQuestion",{question:e,addButtonRef:t.target})}},getOptionMedia:function(option){return this.$_.get(option,"media[0]",{})},doesOptionHaveMedia:function(option){return!this.$_.isEmpty(this.getOptionMedia(option))},optionBgColorClass:function(t){if(this.shouldShowAnswers){if(this.isPollTypeQuestion)return this.isLoading?"bg-blue-faded":"bg-blue";if(this.isMCQTypeQuestion||this.isMSQTypeQuestion)return this.isCorrectOption(t)?this.isLoading?"bg-green-faded":"bg-green":this.isLoading?"bg-red-faded":"bg-red"}return"bg-dark-6"},isCorrectOption:function(t){var e=this.$_,n=e.get(this.question,"structure.answer",null);return e.isArray(n)?e.includes(n,e.toNumber(t)):e.toNumber(e.get(this.question,"structure.answer",null))===e.toNumber(t)},doesOptionHaveText:function(option){var t=this.$_;return!t.isEmpty(t.get(option,"text",""))},onEditQuestionClick:function(){this.$emit("questionEdited")},onDuplicateQuestionClick:function(){var t=this;this.isDuplicationInProgress=!0,this.$emit("questionDuplicated",this.question._id,(function(){t.isDuplicationInProgress=!1}))},onDeleteQuestionClick:function(){var t=this;this.isDeletionInProgress=!0,this.$emit("questionDeleted",this.question._id,(function(){t.$nextTick((function(){t.isDeletionInProgress=!1}))}))},toggleChangeTimeForAllQuestionsBtn:function(){var t=this;this.changeTimeForAllQuestionsBtn.isVisible=!0,this.toggleChangeTimeForAllQuestionsTimer=setTimeout((function(){t.changeTimeForAllQuestionsBtn.isVisible=!1}),4e3)},applyTimingToAllQuestions:function(){var t=this;if(this.changeTimeForAllQuestionsBtn.isVisible&&!this.changeTimeForAllQuestionsBtn.isLoading&&!this.changeTimeForAllQuestionsBtn.isDone){var e=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.changeTimeForAllQuestionsBtn.isVisible){e.next=2;break}return e.abrupt("return");case 2:return t.changeTimeForAllQuestionsBtn.isDone=!0,t.changeTimeForAllQuestionsBtn.isLoading=!1,e.next=6,Object(h.a)(3e3);case 6:t.changeTimeForAllQuestionsBtn.isVisible=!1,t.changeTimeForAllQuestionsBtn.isDone=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();this.changeTimeForAllQuestionsBtn.isLoading=!0,this.toggleChangeTimeForAllQuestionsTimer&&clearTimeout(this.toggleChangeTimeForAllQuestionsTimer),this.$emit("applyTimeToAllQuestions",this.question._id,e)}}}},w=C,x=(n(1017),n(10)),component=Object(x.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["flex flex-col",t.isForTeleportPage?"":"border border-solid border-dark-6 rounded-lg overflow-hidden shadow-sm"]},[t.isForTeleportPage||t.isCurrentPageSeeMore?t._e():n("div",{staticClass:"p-2 bg-light-2 flex items-center justify-between"},[n("div",{staticClass:"flex items-center"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltipOptions,expression:"tooltipOptions"}],staticClass:"w-8 h-8 mr-2 drag-button text-dark-4 hover:bg-dark-5% rounded",class:[t.isCurrentStateReorder?"reorder":""],on:{click:t.onDragButtonClicked}},[n("FA",{attrs:{icon:"fas fa-sort",size:16}})],1),t._v(" "),n("QuestionTypeIcon",{staticClass:"mr-2",attrs:{size:12,width:6,radius:"sm",type:t.selectedQuestionType}}),t._v(" "),n("span",{staticClass:"text-sm text-dark-2"},[t._v("Question "+t._s(t.questionIndex+1))])],1),t._v(" "),t.isCurrentStateReorder?t._e():n("div",{staticClass:"flex"},[n("Button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:{content:t.$i18n("Edit this question")},expression:"{ content: $i18n('Edit this question') }",modifiers:{top:!0}}],staticClass:"mr-2",attrs:{title:t.$i18n("Edit"),fullHeight:!0,size:"md",type:"white",licon:"far fa-pen","aria-label":"Edit this question"},on:{click:t.onEditQuestionClick}}),t._v(" "),n("Button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:{content:t.$i18n("Duplicate this question")},expression:"{ content: $i18n('Duplicate this question') }",modifiers:{top:!0}}],staticClass:"mr-2",attrs:{size:"md",type:"white",licon:"far fa-copy","aria-label":"Duplicate this question",fullHeight:!0,loading:t.isDuplicationInProgress},on:{click:t.onDuplicateQuestionClick}}),t._v(" "),n("PopoverConfirmer",{attrs:{type:"danger",placement:"top",content:{title:t.$i18n("Are you sure you want to delete this question?")},button2:{title:t.$i18n("Delete")}},on:{button2Clicked:t.onDeleteQuestionClick}},[n("Button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:{content:t.$i18n("Delete this question")},expression:"{ content: $i18n('Delete this question') }",modifiers:{top:!0}}],staticClass:"mr-2",attrs:{size:"md",type:"white",licon:"far fa-trash-alt","aria-label":"Delete this question",fullHeight:!0,loading:t.isDeletionInProgress}})],1)],1)]),t._v(" "),n("div",{class:["p-4",t.isForTeleportPage&&!t.isPreviewMode?"shadow-md":"shadow-sm"],on:{mouseenter:function(e){return t.setAddButtonType("primary")},mouseleave:function(e){return t.setAddButtonType("other")},click:function(e){return e.stopPropagation(),t.$emit("click",t.question)}}},[t.isForTeleportPage?n("div",{staticClass:"flex pb-4 justify-between"},[n("span",{class:["border border-solid border-dark-6 rounded inline-flex items-center min-w-max"]},[n("Lozenge",{attrs:{iconComponent:t.questionTypeIconComponent,title:t.lozengeTitle,size:"sm",isLoading:t.isLoading}})],1),t._v(" "),n("span",{class:["flex",t.isLoading?"teleport-loading-state":""],on:{click:function(t){t.stopPropagation()}}},[t.isPreviewMode?t._e():n("div",{class:["transform transition-transform origin-top","primary"===t.addButtonType?"opacity-100":"opacity-0"]},[t._t("showOnHover")],2),t._v(" "),t.isPreviewMode?t._e():t._t("default",(function(){return[n("Button",{ref:"add-button-"+t.question._id,class:t.isLoading?"opacity-0":"",attrs:{size:"xs",title:t.addButtonTitle,type:t.isQuizLocked?"super-secondary":t.addButtonType,licon:"far fa-plus-circle",disabled:t.isAddingTeleportInProgress},on:{click:t.addQuestion}})]}))],2)]):t._e(),t._v(" "),n("div",{class:["flex items-center",t.isCurrentStateReorder?"":"mb-4"]},[t.doesQuestionHaveMedia?n("MediaTile",{staticClass:"mr-4",attrs:{size:t.isCurrentStateReorder?"sm":"md",type:t.questionMedia.type,src:t.questionMedia.url,media:t.questionMedia,isLoading:t.isLoading}}):t._e(),t._v(" "),t.questionTitle?n("div",{class:["text-sm flex overflow-hidden",t.isLoading?"teleport-loading-state":"text-dark-2"]},[t._v("\n        Q. "),n("span",{domProps:{innerHTML:t._s(t.getParsedQuestionTitle(t.questionTitle))}})]):t._e()],1),t._v(" "),t.isOpenEndedTypeQuestion||t.isCurrentStateReorder||t.isDrawQuestion?t._e():n("div",{staticClass:"relative bg-light-1 mb-4 h-px"},[n("span",{class:["absolute px-2 text-tn left-4 -translate-y-1/2 transform",t.isLoading?"teleport-loading-state":"text-dark-4","primary"===t.addButtonType?"bg-light-2":"bg-light"]},[t._v("\n        "+t._s(t.isBlankTypeQuestion?"answer":"answer choices")+"\n      ")])]),t._v(" "),t.isDrawQuestion&&t.questionImageMedia?n("div",{staticClass:"relative bg-light-1 mb-4 h-px"},[n("span",{class:["absolute px-2 text-tn left-4 -translate-y-1/2 transform",t.isLoading?"teleport-loading-state":"text-dark-4 bg-light"]},[n("i18n",[t._v("Background image")])],1)]):t._e(),t._v(" "),t.isDrawQuestion&&t.questionImageMedia?n("div",[n("img",{staticClass:"w-64 h-64 border border-dark-10% rounded object-contain",attrs:{src:t.questionImageMedia.url,alt:""}})]):t._e(),t._v(" "),t.isOpenEndedTypeQuestion||t.isCurrentStateReorder?t._e():n("div",{staticClass:"flex flex-wrap"},t._l(t.answerOptions,(function(option,e){return n("div",{key:e,staticClass:"mb-2 flex items-start",class:t.verticallyAlignOptions?"w-full":"w-1/2"},[n("span",{class:["w-4 h-4 rounded-full my-1 mr-2 relative flex-shrink-0",t.optionBgColorClass(e)]},[t.isBlankTypeQuestion?n("FA",{staticClass:"absolute text-dark-4 transform -translate-y-1/2 -translate-x-1/2 top-2/4 left-2/4",attrs:{icon:"far fa-chevron-right",size:9}}):t._e()],1),t._v(" "),t.doesOptionHaveText(option)?n("span",{class:["text-sm",t.isLoading?"teleport-loading-state":"text-dark-2"],domProps:{innerHTML:t._s(t.getParsedOptionText(option.text))}}):t._e(),t._v(" "),t.doesOptionHaveMedia(option)?n("MediaTile",{staticClass:"mr-4",attrs:{size:"sm",src:t.getOptionMedia(option).url,media:t.getOptionMedia(option),isLoading:t.isLoading}}):t._e()],1)})),0),t._v(" "),t.isBlankTypeQuestion&&t.alternateOptions.length&&!t.isCurrentStateReorder?n("div",{staticClass:"relative bg-light-1 mb-4 h-px mt-4"},[n("span",{class:["absolute px-2 text-tn left-4 -translate-y-1/2 transform",t.isLoading?"teleport-loading-state":"text-dark-4 bg-light"]},[n("i18n",[t._v("alternatives")])],1)]):t._e(),t._v(" "),t.isBlankTypeQuestion?n("div",t._l(t.alternateOptions,(function(option,e){return n("div",{key:e,staticClass:"mb-2 flex w-6/12 items-center"},[n("span",{class:["w-4 h-4 rounded-full mr-2 relative",t.optionBgColorClass(e)]},[n("FA",{staticClass:"absolute text-dark-4 transform -translate-y-1/2 -translate-x-1/2 top-2/4 left-2/4",attrs:{icon:"far fa-chevron-right",size:9}})],1),t._v(" "),t.doesOptionHaveText(option)?n("span",{class:["text-sm",t.isLoading?"teleport-loading-state":"text-dark-2"],domProps:{innerHTML:t._s(option.text)}}):t._e(),t._v(" "),t.doesOptionHaveMedia(option)?n("MediaTile",{staticClass:"mr-4",attrs:{size:"sm",src:t.getOptionMedia(option).url,media:t.getOptionMedia(option),isLoading:t.isLoading}}):t._e()],1)})),0):t._e(),t._v(" "),t.doesQuestionHaveAnswerExplanation&&!t.isCurrentStateReorder?n("div",{staticClass:"relative bg-light-1 mb-4 h-px mt-4"},[n("span",{class:["absolute px-2 text-tn left-4 -translate-y-1/2 transform",t.isLoading?"teleport-loading-state":"text-dark-4 bg-light"]},[n("i18n",[t._v("answer explanation")])],1)]):t._e(),t._v(" "),t.doesQuestionHaveAnswerExplanation&&!t.isCurrentStateReorder?n("div",{staticClass:"flex items-center"},[t.doesAnswerExplanationHaveMedia?n("MediaTile",{staticClass:"mr-4 flex-shrink-0",attrs:{size:"md",type:t.answerExplanationMedia[0].type,src:t.answerExplanationMedia[0].url,media:t.answerExplanationMedia[0],isLoading:t.isLoading}}):t._e(),t._v(" "),n("div",{class:["text-sm",t.isLoading?"teleport-loading-state":"text-dark-2"],domProps:{innerHTML:t._s(t.answerExplanationText)}})],1):t._e()]),t._v(" "),t.isForTeleportPage||t.isCurrentStateReorder||t.isCurrentPageSeeMore?t._e():n("div",{staticClass:"p-2 bg-light-2 flex"},[n("Dropdown",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$i18n("Set time allotted to answer this question"),expression:"$i18n('Set time allotted to answer this question')"}],staticClass:"w-33 mr-2",attrs:{icon:"fas fa-stopwatch",size:"sm",openDirection:"top",ariaLabel:"Timer",type:"white",iconComponent:t.timerDropdownIcon,title:t.getTimeTitle,selectedItem:t.getTimeTitle},scopedSlots:t._u([{key:"default",fn:function(e){return[n("TimerDropdown",{staticClass:"overflow-y-auto h-70",on:{onTimeSelected:t.onTimeSelected,closeDropdown:e.closeDropdown}})]}}],null,!1,3436092366)}),t._v(" "),t.changeTimeForAllQuestionsBtn.isVisible?n("Button",{attrs:{type:"link",size:"sm",fullHeight:!0,title:t.changeTimeForAllQuestionsBtn.isDone?t.$i18n("Done")+"!":t.$i18n("Change for all questions"),loading:t.changeTimeForAllQuestionsBtn.isLoading},on:{click:t.applyTimingToAllQuestions}}):t._e(),t._v(" "),t.questionTopics.length?n("div",{staticClass:"flex items-center"},[n("p",{staticClass:"text-xs font-semibold text-dark-3 mr-2"},[n("i18n",[t._v("Topics")]),t._v(":\n      ")],1),t._v(" "),t._l(t.questionTopicsToShow,(function(e,o){return n("Button",{key:o,staticClass:"mr-2",attrs:{type:"white",title:e,size:"sm"},on:{click:t.openTopicTagModal}})})),t._v(" "),t.questionTopics.length>2?n("Button",{staticClass:"mr-2",attrs:{type:"white",title:t.extraTopicsTitle,size:"sm"},on:{click:t.openTopicTagModal}}):t._e(),t._v(" "),n("Button",{attrs:{type:"white",licon:"far fa-plus",size:"sm"},on:{click:t.openTopicTagModal}})],2):n("Button",{attrs:{fullHeight:!0,type:"white",title:t.$i18n("Add topics"),size:"sm",licon:"fas fa-tags"},on:{click:t.openTopicTagModal}})],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{FA:n(71).default,Button:n(37).default,QuestionTypeIcon:n(727).default,Button:n(37).default,PopoverConfirmer:n(757).default,Lozenge:n(243).default,MediaTile:n(799).default,I18n:n(90).default,TimerDropdown:n(774).default,Dropdown:n(723).default})},931:function(t,e,n){var content=n(1018);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(41).default)("b9eb0f2c",content,!1,{sourceMap:!1})}}]);